<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>うなりのシミュレーション</title>
  <style>
    body {
      background: #fff;
      color: #000;
      text-align: center;
      font-family: sans-serif;
    }
    canvas {
      background: #fff;
      display: block;
      margin: auto;
      border: 1px solid #ccc;
    }
  </style>
</head>
<body>
  <h1>うなりのシミュレーション</h1>
  <canvas id="canvas" width="900" height="300"></canvas>

  <script>
    const canvas = document.getElementById("canvas");
    const ctx = canvas.getContext("2d");

    const width = canvas.width;
    const height = canvas.height;

    // 波のパラメータ
    const f1 = 5;   // 波1の波数（周期数）
    const f2 = 6;   // 波2の波数（少し違う）
    const speed = 0.01; // 波の進行速度
    let t = 0;      // 時間

    function draw() {
      ctx.clearRect(0, 0, width, height);

      ctx.lineWidth = 2;

      // 波の描画関数
      function drawWave(freq, color, dash) {
        ctx.beginPath();
        ctx.setLineDash(dash ? [5, 5] : []);
        for (let x = 0; x < width; x++) {
          const y = height/2 + 80 * Math.sin((2 * Math.PI * freq * x / width) - t);
          if (x === 0) {
            ctx.moveTo(x, y);
          } else {
            ctx.lineTo(x, y);
          }
        }
        ctx.strokeStyle = color;
        ctx.stroke();
      }

      // 波1 (点線)
      drawWave(f1, "blue", true);
      // 波2 (点線)
      drawWave(f2, "red", true);

      // 合成波 (実線)
      ctx.beginPath();
      ctx.setLineDash([]);
      for (let x = 0; x < width; x++) {
        const y = height/2 + 80 * (Math.sin((2*Math.PI*f1*x/width) - t) + Math.sin((2*Math.PI*f2*x/width) - t)) / 2;
        if (x === 0) {
          ctx.moveTo(x, y);
        } else {
          ctx.lineTo(x, y);
        }
      }
      ctx.strokeStyle = "black";
      ctx.lineWidth = 2;
      ctx.stroke();

      // 時間更新
      t += speed;

      requestAnimationFrame(draw);
    }

    draw();
  </script>
</body>
</html>

  <br>
  <script src="tatenami.js"></script>
  <a href="index.html">ホームに戻る</a>
</body>
</html>


